<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Curricular Ingeniería Comercial 2025</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #fff0f5;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #b76e79;
    }
    .malla {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 10px;
      margin-top: 30px;
    }
    .columna {
      background-color: #fce4ec;
      border-radius: 15px;
      padding: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .columna h2 {
      text-align: center;
      font-size: 16px;
      color: #a65770;
    }
    .asignatura {
      margin: 6px 0;
      padding: 8px;
      border-radius: 8px;
      background-color: #ffe3f1;
      cursor: pointer;
      transition: background-color 0.3s;
      font-size: 13px;
    }
    .asignatura.aprobada {
      background-color: #c3f5cc;
      text-decoration: line-through;
      color: #555;
    }
    .asignatura.bloqueada {
      opacity: 0.5;
      cursor: not-allowed;
    }
  </style>
</head>
<body>

<h1>Malla Curricular Ingeniería Comercial 2025</h1>

<div class="malla" id="malla"></div>

<script>
const asignaturas = [
  // Nivel 100
  { id: "mat100", nombre: "Matemática y Pensamiento Lógico", nivel: 100 },
  { id: "cont100", nombre: "Contabilidad para las Organizaciones", nivel: 100 },
  { id: "org100", nombre: "Administración de Organizaciones", nivel: 100 },
  { id: "ingles1", nombre: "Inglés I", nivel: 100 },
  // Nivel 200
  { id: "mat200", nombre: "Matemáticas para los Negocios I", nivel: 200, prereq: ["mat100"] },
  { id: "cont200", nombre: "Contabilidad Financiera", nivel: 200, prereq: ["cont100"] },
  { id: "func200", nombre: "Funciones Gerenciales", nivel: 200, prereq: ["org100"] },
  { id: "ingles2", nombre: "Inglés II", nivel: 200, prereq: ["ingles1"] },
  // Nivel 300
  { id: "mat300", nombre: "Matemáticas para los Negocios II", nivel: 300, prereq: ["mat200"] },
  { id: "cont300", nombre: "Contabilidad para la Toma de Decisiones", nivel: 300, prereq: ["cont100"] },
  { id: "eco300", nombre: "Análisis Económico", nivel: 300 },
  { id: "ingles3", nombre: "Inglés III", nivel: 300, prereq: ["ingles2"] },
  // Nivel 800
  { id: "proy800", nombre: "Evaluación de Proyectos", nivel: 800, prereq: ["mat300", "func200"] }
];

const niveles = [100,200,300,400,500,600,700,800,900,1000];

const aprobadas = new Set();

function renderMalla() {
  const contenedor = document.getElementById("malla");
  contenedor.innerHTML = "";

  niveles.forEach(nivel => {
    const col = document.createElement("div");
    col.className = "columna";
    col.innerHTML = `<h2>Nivel ${nivel}</h2>`;

    const asigns = asignaturas.filter(a => a.nivel === nivel);
    if (asigns.length === 0) {
      col.innerHTML += "<div style='font-size:12px; text-align:center; color:#aaa'>Sin ramos</div>";
    } else {
      asigns.forEach(asig => {
        const bloqueada = asig.prereq && !asig.prereq.every(p => aprobadas.has(p));
        const div = document.createElement("div");
        div.className = "asignatura";
        if (aprobadas.has(asig.id)) div.classList.add("aprobada");
        else if (bloqueada) div.classList.add("bloqueada");

        div.textContent = asig.nombre;
        div.onclick = () => {
          if (!bloqueada && !aprobadas.has(asig.id)) {
            aprobadas.add(asig.id);
            renderMalla();
          }
        };

        col.appendChild(div);
      });
    }

    contenedor.appendChild(col);
  });
}

renderMalla();
</script>

</body>
</html>
